'use client'; import { signIn } from 'next-auth/react'; import { useState } from 'react'; import { useRouter } from 'next/router'; export default function AdminLogin() { const router = useRouter(); const [credentials, setCredentials] = useState({email: 'maxime@lirochon.net', password: '',}); const [loading, setLoading] = useState(false); const handleChange = (e: any) => { const { name, value } = e.target; setCredentials((prev) => ({...prev, [name]: value,})); }; const handleSubmit = async (e: any) => { e.preventDefault(); setLoading(true); const result = await signIn('credentials', {email: credentials.email, password: credentials.password, redirect: false,}); if (result?.ok) { router.push('/admin/dashboard'); } else { alert('Email ou mot de passe incorrect'); } setLoading(false); }; return (<div className="min-h-screen bg-gray-100 flex items-center justify-center"><div className="bg-white rounded-lg shadow p-8 w-full max-w-md"><h1 className="text-2xl font-bold text-center mb-8">Admin Login</h1><form onSubmit={handleSubmit} className="space-y-4"><div><label className="block text-sm font-medium mb-1">Email</label><input type="email" name="email" value={credentials.email} onChange={handleChange} required className="w-full px-3 py-2 border rounded" /></div><div><label className="block text-sm font-medium mb-1">Mot de passe</label><input type="password" name="password" value={credentials.password} onChange={handleChange} required className="w-full px-3 py-2 border rounded" /></div><button type="submit" disabled={loading} className="w-full bg-blue-600 text-white py-2 rounded font-semibold disabled:opacity-50">{loading ? 'Connexion...' : 'Se connecter'}</button></form></div></div>); }