CREATE TABLE IF NOT EXISTS orders (id SERIAL PRIMARY KEY, model_url VARCHAR(500) NOT NULL, color VARCHAR(50) NOT NULL, quantity INTEGER NOT NULL, specifications TEXT, customer_email VARCHAR(255) NOT NULL, customer_name VARCHAR(255) NOT NULL, total_price DECIMAL(10, 2) NOT NULL, status VARCHAR(50) DEFAULT 'En attente', stripe_payment_id VARCHAR(255), created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP);
CREATE TABLE IF NOT EXISTS order_statuses (id SERIAL PRIMARY KEY, order_id INTEGER NOT NULL REFERENCES orders(id), status VARCHAR(50) NOT NULL, message TEXT, created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP);
CREATE TABLE IF NOT EXISTS users (id SERIAL PRIMARY KEY, email VARCHAR(255) UNIQUE NOT NULL, password VARCHAR(255) NOT NULL, name VARCHAR(255), created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP);